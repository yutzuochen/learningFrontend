<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript è¡¨å–®è™•ç† | Forms</title>
    <link rel="stylesheet" href="./src/output.css">
</head>
<body class="bg-gray-50 min-h-screen">
    <header class="bg-gradient-to-r from-cyan-600 to-blue-600 text-white py-8 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h1 class="text-4xl font-bold mb-2">JavaScript è¡¨å–®è™•ç†èˆ‡é©—è­‰</h1>
            <p class="text-cyan-100 text-lg">Form Handling & Validation</p>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <!-- Section 1: Form Basics -->
        <section class="bg-white rounded-xl shadow-md p-8 mb-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-4 border-cyan-500 pb-2">
                1. è¡¨å–®åŸºç¤
            </h2>
            <div class="bg-cyan-50 border-l-4 border-cyan-500 p-6 mb-6">
                <h3 class="font-semibold text-lg mb-3">å–å¾—è¡¨å–®å€¼çš„æ–¹å¼</h3>
                <div class="bg-gray-100 text-green-400 p-6 rounded-lg font-mono text-sm overflow-x-auto">
                    <pre>// 1. ä½¿ç”¨ value å±¬æ€§
let input = document.querySelector('#username');
let value = input.value;

// 2. Checkbox å’Œ Radio
let checkbox = document.querySelector('#agree');
let isChecked = checkbox.checked; // true or false

// 3. Select ä¸‹æ‹‰é¸å–®
let select = document.querySelector('#country');
let selected = select.value;

// 4. è¡¨å–®æäº¤äº‹ä»¶
form.addEventListener('submit', function(event) {
    event.preventDefault(); // é˜»æ­¢è¡¨å–®æäº¤é‡æ–°è¼‰å…¥é é¢
    // è™•ç†è¡¨å–®è³‡æ–™...
});</pre>
                </div>
            </div>

            <div class="border-2 border-cyan-300 rounded-lg p-6 bg-cyan-50">
                <h3 class="font-bold text-lg mb-4">ğŸ¯ è©¦è©¦çœ‹ï¼šåŸºç¤è¡¨å–®</h3>
                <form id="basicForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-semibold mb-2">å§“åï¼š</label>
                        <input type="text" id="basicName" class="w-full border-2 border-gray-300 rounded-lg px-4 py-2">
                    </div>
                    <div>
                        <label class="block text-sm font-semibold mb-2">èˆˆè¶£ï¼š</label>
                        <div class="space-y-2">
                            <label class="flex items-center">
                                <input type="checkbox" name="hobbies" value="é–±è®€" class="mr-2"> é–±è®€
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="hobbies" value="é‹å‹•" class="mr-2"> é‹å‹•
                            </label>
                            <label class="flex items-center">
                                <input type="checkbox" name="hobbies" value="éŸ³æ¨‚" class="mr-2"> éŸ³æ¨‚
                            </label>
                        </div>
                    </div>
                    <button type="submit" class="bg-cyan-600 text-white px-6 py-2 rounded-lg hover:bg-cyan-700 transition">
                        æäº¤
                    </button>
                </form>
                <div id="basicResult" class="mt-4 p-4 bg-white rounded-lg hidden"></div>
            </div>
        </section>

        <!-- Section 2: Form Validation -->
        <section class="bg-white rounded-xl shadow-md p-8 mb-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-4 border-blue-500 pb-2">
                2. è¡¨å–®é©—è­‰
            </h2>
            <p class="text-gray-600 mb-6">é©—è­‰ä½¿ç”¨è€…è¼¸å…¥çš„è³‡æ–™æ˜¯å¦ç¬¦åˆè¦æ±‚ã€‚</p>

            <div class="bg-gray-100 text-green-400 p-6 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
                <pre>// å¸¸è¦‹é©—è­‰å‡½å¼
function validateEmail(email) {
    const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
    return regex.test(email);
}

function validatePassword(password) {
    // è‡³å°‘ 8 å­—å…ƒï¼ŒåŒ…å«å¤§å°å¯«å’Œæ•¸å­—
    return password.length &gt;= 8 &&
           /[a-z]/.test(password) &&
           /[A-Z]/.test(password) &&
           /[0-9]/.test(password);
}

function validatePhone(phone) {
    // å°ç£æ‰‹æ©Ÿæ ¼å¼ 09xx-xxxxxx
    const regex = /^09\d{2}-?\d{6}$/;
    return regex.test(phone);
}</pre>
            </div>

            <div class="border-2 border-blue-300 rounded-lg p-6 bg-blue-50">
                <h3 class="font-bold text-lg mb-4">ğŸ¯ å®Œæ•´è¨»å†Šè¡¨å–®ç¯„ä¾‹</h3>
                <form id="registerForm" class="space-y-4">
                    <div>
                        <label class="block text-sm font-semibold mb-2">Email <span class="text-red-500">*</span></label>
                        <input type="email" id="email" required class="w-full border-2 border-gray-300 rounded-lg px-4 py-2">
                        <p class="text-sm text-red-600 mt-1 hidden" id="emailError"></p>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold mb-2">å¯†ç¢¼ <span class="text-red-500">*</span></label>
                        <input type="password" id="password" required class="w-full border-2 border-gray-300 rounded-lg px-4 py-2">
                        <p class="text-sm text-gray-600 mt-1">è‡³å°‘ 8 å­—å…ƒï¼Œéœ€åŒ…å«å¤§å°å¯«å­—æ¯å’Œæ•¸å­—</p>
                        <p class="text-sm text-red-600 mt-1 hidden" id="passwordError"></p>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold mb-2">ç¢ºèªå¯†ç¢¼ <span class="text-red-500">*</span></label>
                        <input type="password" id="confirmPassword" required class="w-full border-2 border-gray-300 rounded-lg px-4 py-2">
                        <p class="text-sm text-red-600 mt-1 hidden" id="confirmError"></p>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold mb-2">æ‰‹æ©Ÿè™Ÿç¢¼</label>
                        <input type="tel" id="phone" placeholder="0912-345678" class="w-full border-2 border-gray-300 rounded-lg px-4 py-2">
                        <p class="text-sm text-red-600 mt-1 hidden" id="phoneError"></p>
                    </div>

                    <div>
                        <label class="flex items-center">
                            <input type="checkbox" id="terms" required class="mr-2">
                            æˆ‘åŒæ„æœå‹™æ¢æ¬¾ <span class="text-red-500 ml-1">*</span>
                        </label>
                        <p class="text-sm text-red-600 mt-1 hidden" id="termsError"></p>
                    </div>

                    <button type="submit" class="w-full bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition font-semibold">
                        è¨»å†Š
                    </button>
                </form>
                <div id="registerResult" class="mt-4 p-4 rounded-lg hidden"></div>
            </div>
        </section>

        <!-- Section 3: Real-time Validation -->
        <section class="bg-white rounded-xl shadow-md p-8 mb-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-4 border-green-500 pb-2">
                3. å³æ™‚é©—è­‰èˆ‡å›é¥‹
            </h2>
            <p class="text-gray-600 mb-6">åœ¨ä½¿ç”¨è€…è¼¸å…¥æ™‚å³æ™‚æä¾›å›é¥‹ï¼Œæå‡ä½¿ç”¨è€…é«”é©—ã€‚</p>

            <div class="border-2 border-green-300 rounded-lg p-6 bg-green-50">
                <h3 class="font-bold text-lg mb-4">ğŸ¯ å³æ™‚é©—è­‰ç¤ºç¯„</h3>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-semibold mb-2">ä½¿ç”¨è€…åç¨±ï¼ˆ3-20å­—å…ƒï¼‰</label>
                        <input type="text" id="realtimeUsername" class="w-full border-2 border-gray-300 rounded-lg px-4 py-2" placeholder="è¼¸å…¥ä½¿ç”¨è€…åç¨±...">
                        <div id="usernameStatus" class="mt-2 text-sm"></div>
                    </div>

                    <div>
                        <label class="block text-sm font-semibold mb-2">å¯†ç¢¼å¼·åº¦æª¢æ¸¬</label>
                        <input type="password" id="realtimePassword" class="w-full border-2 border-gray-300 rounded-lg px-4 py-2" placeholder="è¼¸å…¥å¯†ç¢¼...">
                        <div class="mt-2">
                            <div class="flex gap-1 mb-2">
                                <div id="strength1" class="flex-1 h-2 bg-gray-200 rounded"></div>
                                <div id="strength2" class="flex-1 h-2 bg-gray-200 rounded"></div>
                                <div id="strength3" class="flex-1 h-2 bg-gray-200 rounded"></div>
                                <div id="strength4" class="flex-1 h-2 bg-gray-200 rounded"></div>
                            </div>
                            <p id="strengthText" class="text-sm text-gray-600"></p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 4: Dynamic Forms -->
        <section class="bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl shadow-md p-8 mb-8 border-2 border-purple-300">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">
                ğŸ¯ å¯¦ä½œï¼šå‹•æ…‹è¡¨å–®å»ºç«‹å™¨
            </h2>
            <p class="text-gray-600 mb-6">å‹•æ…‹æ–°å¢å’Œåˆªé™¤è¡¨å–®æ¬„ä½ã€‚</p>

            <div class="bg-white p-6 rounded-lg shadow-lg">
                <h3 class="font-bold text-lg mb-4">è¯çµ¡äººåˆ—è¡¨</h3>
                <div id="contactsList" class="space-y-4 mb-4"></div>
                <button id="btnAddContact" class="bg-purple-600 text-white px-6 py-2 rounded-lg hover:bg-purple-700 transition">
                    â• æ–°å¢è¯çµ¡äºº
                </button>
                <button id="btnShowContacts" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition ml-2">
                    é¡¯ç¤ºæ‰€æœ‰è³‡æ–™
                </button>
                <div id="contactsOutput" class="mt-4 p-4 bg-gray-50 rounded-lg hidden"></div>
            </div>
        </section>

        <!-- Quick Reference -->
        <section class="bg-gradient-to-r from-gray-800 to-gray-900 text-white rounded-xl shadow-md p-8">
            <h2 class="text-3xl font-bold mb-6">ğŸ“š Quick Reference</h2>
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-xl font-bold mb-3 text-cyan-300">å–å¾—è¡¨å–®å€¼</h3>
                    <ul class="space-y-2 text-gray-300 text-sm">
                        <li><code class="bg-gray-700 px-2 py-1 rounded">input.value</code> - æ–‡å­—è¼¸å…¥</li>
                        <li><code class="bg-gray-700 px-2 py-1 rounded">checkbox.checked</code> - æ ¸å–æ–¹å¡Š</li>
                        <li><code class="bg-gray-700 px-2 py-1 rounded">select.value</code> - ä¸‹æ‹‰é¸å–®</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-3 text-cyan-300">é©—è­‰è¦é»</h3>
                    <ul class="space-y-2 text-gray-300 text-sm">
                        <li>ä½¿ç”¨ RegEx é©—è­‰æ ¼å¼</li>
                        <li>å³æ™‚å›é¥‹æå‡é«”é©—</li>
                        <li>æ¸…æ¥šçš„éŒ¯èª¤è¨Šæ¯</li>
                        <li>é˜»æ­¢ç„¡æ•ˆæäº¤</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Section 1: Basic Form
        document.getElementById('basicForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const name = document.getElementById('basicName').value;
            const hobbies = Array.from(document.querySelectorAll('input[name="hobbies"]:checked'))
                .map(cb => cb.value);

            const result = document.getElementById('basicResult');
            result.classList.remove('hidden');
            result.innerHTML = `
                <strong>æäº¤çš„è³‡æ–™ï¼š</strong><br>
                å§“å: ${name || '(æœªå¡«å¯«)'}<br>
                èˆˆè¶£: ${hobbies.length > 0 ? hobbies.join(', ') : '(æœªé¸æ“‡)'}
            `;
            console.log('è¡¨å–®è³‡æ–™:', { name, hobbies });
        });

        // Section 2: Registration Form with Validation
        function validateEmail(email) {
            const regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            return regex.test(email);
        }

        function validatePassword(password) {
            return password.length >= 8 &&
                   /[a-z]/.test(password) &&
                   /[A-Z]/.test(password) &&
                   /[0-9]/.test(password);
        }

        function validatePhone(phone) {
            if (!phone) return true; // Optional field
            const regex = /^09\d{2}-?\d{6}$/;
            return regex.test(phone);
        }

        document.getElementById('registerForm').addEventListener('submit', function(e) {
            e.preventDefault();

            // Clear previous errors
            document.querySelectorAll('[id$="Error"]').forEach(el => {
                el.classList.add('hidden');
                el.textContent = '';
            });

            const email = document.getElementById('email').value;
            const password = document.getElementById('password').value;
            const confirmPassword = document.getElementById('confirmPassword').value;
            const phone = document.getElementById('phone').value;
            const terms = document.getElementById('terms').checked;

            let isValid = true;

            // Validate email
            if (!validateEmail(email)) {
                document.getElementById('emailError').textContent = 'è«‹è¼¸å…¥æœ‰æ•ˆçš„ Email æ ¼å¼';
                document.getElementById('emailError').classList.remove('hidden');
                isValid = false;
            }

            // Validate password
            if (!validatePassword(password)) {
                document.getElementById('passwordError').textContent = 'å¯†ç¢¼å¿…é ˆè‡³å°‘ 8 å­—å…ƒï¼ŒåŒ…å«å¤§å°å¯«å­—æ¯å’Œæ•¸å­—';
                document.getElementById('passwordError').classList.remove('hidden');
                isValid = false;
            }

            // Validate confirm password
            if (password !== confirmPassword) {
                document.getElementById('confirmError').textContent = 'å¯†ç¢¼ä¸ä¸€è‡´';
                document.getElementById('confirmError').classList.remove('hidden');
                isValid = false;
            }

            // Validate phone
            if (!validatePhone(phone)) {
                document.getElementById('phoneError').textContent = 'è«‹è¼¸å…¥æœ‰æ•ˆçš„æ‰‹æ©Ÿè™Ÿç¢¼æ ¼å¼ï¼ˆå¦‚ï¼š0912-345678ï¼‰';
                document.getElementById('phoneError').classList.remove('hidden');
                isValid = false;
            }

            // Validate terms
            if (!terms) {
                document.getElementById('termsError').textContent = 'è«‹åŒæ„æœå‹™æ¢æ¬¾';
                document.getElementById('termsError').classList.remove('hidden');
                isValid = false;
            }

            const result = document.getElementById('registerResult');
            result.classList.remove('hidden');

            if (isValid) {
                result.className = 'mt-4 p-4 rounded-lg bg-green-100 border-2 border-green-500';
                result.innerHTML = `
                    <strong class="text-green-800">âœ“ è¨»å†ŠæˆåŠŸï¼</strong><br>
                    <span class="text-green-700">Email: ${email}</span>
                `;
                console.log('è¨»å†ŠæˆåŠŸ:', { email, phone });
            } else {
                result.className = 'mt-4 p-4 rounded-lg bg-red-100 border-2 border-red-500';
                result.innerHTML = '<strong class="text-red-800">âœ— è«‹ä¿®æ­£è¡¨å–®éŒ¯èª¤</strong>';
            }
        });

        // Section 3: Real-time Validation
        document.getElementById('realtimeUsername').addEventListener('input', function(e) {
            const username = e.target.value;
            const status = document.getElementById('usernameStatus');

            if (username.length === 0) {
                status.textContent = '';
                status.className = 'mt-2 text-sm';
            } else if (username.length < 3) {
                status.textContent = 'âŒ å¤ªçŸ­ï¼ˆè‡³å°‘ 3 å­—å…ƒï¼‰';
                status.className = 'mt-2 text-sm text-red-600';
            } else if (username.length > 20) {
                status.textContent = 'âŒ å¤ªé•·ï¼ˆæœ€å¤š 20 å­—å…ƒï¼‰';
                status.className = 'mt-2 text-sm text-red-600';
            } else {
                status.textContent = 'âœ“ å¯ç”¨ï¼';
                status.className = 'mt-2 text-sm text-green-600 font-semibold';
            }
        });

        // Password Strength
        document.getElementById('realtimePassword').addEventListener('input', function(e) {
            const password = e.target.value;
            let strength = 0;

            if (password.length >= 8) strength++;
            if (/[a-z]/.test(password) && /[A-Z]/.test(password)) strength++;
            if (/[0-9]/.test(password)) strength++;
            if (/[^a-zA-Z0-9]/.test(password)) strength++;

            const indicators = ['strength1', 'strength2', 'strength3', 'strength4'];
            const colors = ['bg-red-500', 'bg-orange-500', 'bg-yellow-500', 'bg-green-500'];
            const texts = ['å¾ˆå¼±', 'å¼±', 'ä¸­ç­‰', 'å¼·'];

            indicators.forEach((id, index) => {
                const el = document.getElementById(id);
                if (index < strength) {
                    el.className = `flex-1 h-2 ${colors[strength - 1]} rounded`;
                } else {
                    el.className = 'flex-1 h-2 bg-gray-200 rounded';
                }
            });

            const strengthText = document.getElementById('strengthText');
            if (password.length === 0) {
                strengthText.textContent = '';
            } else {
                strengthText.textContent = `å¯†ç¢¼å¼·åº¦ï¼š${texts[strength - 1] || 'å¾ˆå¼±'}`;
                strengthText.className = `text-sm ${strength >= 3 ? 'text-green-600' : 'text-orange-600'}`;
            }
        });

        // Section 4: Dynamic Contacts
        let contactCount = 0;

        document.getElementById('btnAddContact').addEventListener('click', function() {
            contactCount++;
            const contactsList = document.getElementById('contactsList');

            const contactDiv = document.createElement('div');
            contactDiv.className = 'border-2 border-purple-200 rounded-lg p-4 bg-white';
            contactDiv.innerHTML = `
                <div class="flex items-center justify-between mb-3">
                    <h4 class="font-semibold">è¯çµ¡äºº #${contactCount}</h4>
                    <button onclick="this.parentElement.parentElement.remove()" class="bg-red-500 text-white px-3 py-1 rounded text-sm hover:bg-red-600">
                        åˆªé™¤
                    </button>
                </div>
                <div class="grid md:grid-cols-2 gap-4">
                    <input type="text" placeholder="å§“å" class="contact-name border-2 border-gray-300 rounded-lg px-3 py-2">
                    <input type="email" placeholder="Email" class="contact-email border-2 border-gray-300 rounded-lg px-3 py-2">
                    <input type="tel" placeholder="é›»è©±" class="contact-phone border-2 border-gray-300 rounded-lg px-3 py-2">
                    <input type="text" placeholder="å…¬å¸" class="contact-company border-2 border-gray-300 rounded-lg px-3 py-2">
                </div>
            `;

            contactsList.appendChild(contactDiv);
        });

        document.getElementById('btnShowContacts').addEventListener('click', function() {
            const contacts = Array.from(document.querySelectorAll('#contactsList > div')).map((div, index) => {
                return {
                    name: div.querySelector('.contact-name').value || '(æœªå¡«)',
                    email: div.querySelector('.contact-email').value || '(æœªå¡«)',
                    phone: div.querySelector('.contact-phone').value || '(æœªå¡«)',
                    company: div.querySelector('.contact-company').value || '(æœªå¡«)'
                };
            });

            const output = document.getElementById('contactsOutput');
            output.classList.remove('hidden');

            if (contacts.length === 0) {
                output.innerHTML = '<p class="text-gray-600">å°šç„¡è¯çµ¡äººè³‡æ–™</p>';
            } else {
                output.innerHTML = `
                    <strong class="block mb-2">å…± ${contacts.length} ä½è¯çµ¡äººï¼š</strong>
                    <pre class="text-xs overflow-x-auto">${JSON.stringify(contacts, null, 2)}</pre>
                `;
            }

            console.log('è¯çµ¡äººè³‡æ–™:', contacts);
        });

        // Welcome
        console.log('%cğŸ‰ æ­¡è¿ä¾†åˆ°è¡¨å–®è™•ç†æ•™å­¸ï¼', 'color: #06b6d4; font-size: 20px; font-weight: bold;');
    </script>
</body>
</html>
