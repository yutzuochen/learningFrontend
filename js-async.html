<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript éåŒæ­¥ç¨‹å¼è¨­è¨ˆ | Async Programming</title>
    <link rel="stylesheet" href="./src/output.css">
</head>
<body class="bg-gray-50 min-h-screen">
    <header class="bg-gradient-to-r from-rose-600 to-red-600 text-white py-8 shadow-lg">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <h1 class="text-4xl font-bold mb-2">JavaScript éåŒæ­¥ç¨‹å¼è¨­è¨ˆ</h1>
            <p class="text-rose-100 text-lg">Async/Await & Fetch API</p>
        </div>
    </header>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <!-- Section 1: What is Async -->
        <section class="bg-white rounded-xl shadow-md p-8 mb-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-4 border-rose-500 pb-2">
                1. ä»€éº¼æ˜¯éåŒæ­¥ï¼Ÿ
            </h2>
            <div class="bg-rose-50 border-l-4 border-rose-500 p-6 mb-6">
                <h3 class="font-semibold text-lg mb-3">åŒæ­¥ vs éåŒæ­¥</h3>
                <div class="grid md:grid-cols-2 gap-6">
                    <div>
                        <h4 class="font-bold text-rose-700 mb-2">åŒæ­¥ Synchronous</h4>
                        <p class="text-gray-700 text-sm mb-2">ç¨‹å¼ç¢¼æŒ‰é †åºåŸ·è¡Œï¼Œä¸€è¡Œæ¥è‘—ä¸€è¡Œï¼Œå¿…é ˆç­‰å‰ä¸€è¡Œå®Œæˆã€‚</p>
                        <div class="bg-white p-3 rounded text-sm">
                            <code>console.log('1');<br>console.log('2');<br>console.log('3');</code>
                            <p class="mt-2 text-gray-600">è¼¸å‡º: 1, 2, 3</p>
                        </div>
                    </div>
                    <div>
                        <h4 class="font-bold text-rose-700 mb-2">éåŒæ­¥ Asynchronous</h4>
                        <p class="text-gray-700 text-sm mb-2">æŸäº›æ“ä½œå¯ä»¥åœ¨èƒŒæ™¯åŸ·è¡Œï¼Œä¸æœƒé˜»å¡å¾ŒçºŒç¨‹å¼ç¢¼ã€‚</p>
                        <div class="bg-white p-3 rounded text-sm">
                            <code>console.log('1');<br>setTimeout(() => console.log('2'), 1000);<br>console.log('3');</code>
                            <p class="mt-2 text-gray-600">è¼¸å‡º: 1, 3, 2</p>
                        </div>
                    </div>
                </div>
            </div>

            <div class="bg-yellow-50 border-l-4 border-yellow-500 p-4 mb-6">
                <p class="text-gray-700">
                    <strong>ğŸ’¡ ç‚ºä»€éº¼éœ€è¦éåŒæ­¥ï¼Ÿ</strong><br>
                    - API è«‹æ±‚å¯èƒ½éœ€è¦æ•¸ç§’<br>
                    - è®€å–å¤§æª”æ¡ˆéœ€è¦æ™‚é–“<br>
                    - ä¸å¸Œæœ›é é¢å› ç‚ºç­‰å¾…è€Œå¡ä½
                </p>
            </div>

            <div class="border-2 border-rose-300 rounded-lg p-6 bg-rose-50">
                <h3 class="font-bold text-lg mb-4">ğŸ¯ è©¦è©¦çœ‹ï¼šsetTimeout åŸºç¤</h3>
                <button id="btnTimeout" class="bg-rose-600 text-white px-6 py-3 rounded-lg hover:bg-rose-700 transition">
                    åŸ·è¡Œå»¶é²ç¯„ä¾‹
                </button>
                <div id="timeoutOutput" class="mt-4 space-y-2"></div>
            </div>
        </section>

        <!-- Section 2: Promises -->
        <section class="bg-white rounded-xl shadow-md p-8 mb-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-4 border-orange-500 pb-2">
                2. Promises æ‰¿è«¾
            </h2>
            <p class="text-gray-600 mb-6">Promise æ˜¯è™•ç†éåŒæ­¥æ“ä½œçš„ç‰©ä»¶ï¼Œä»£è¡¨ä¸€å€‹æœ€çµ‚æœƒå®Œæˆæˆ–å¤±æ•—çš„æ“ä½œã€‚</p>

            <div class="bg-gray-100 text-green-400 p-6 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
                <pre>// Promise æœ‰ä¸‰ç¨®ç‹€æ…‹
// 1. pending (ç­‰å¾…ä¸­)
// 2. fulfilled (æˆåŠŸ)
// 3. rejected (å¤±æ•—)

// å»ºç«‹ Promise
let promise = new Promise((resolve, reject) => {
    let success = true;

    setTimeout(() => {
        if (success) {
            resolve('æˆåŠŸï¼'); // å®Œæˆ
        } else {
            reject('å¤±æ•—ï¼');  // å¤±æ•—
        }
    }, 1000);
});

// ä½¿ç”¨ Promise
promise
    .then(result => {
        console.log('æˆåŠŸ:', result);
    })
    .catch(error => {
        console.log('éŒ¯èª¤:', error);
    })
    .finally(() => {
        console.log('å®Œæˆï¼ˆç„¡è«–æˆåŠŸæˆ–å¤±æ•—ï¼‰');
    });</pre>
            </div>

            <div class="border-2 border-orange-300 rounded-lg p-6 bg-orange-50">
                <h3 class="font-bold text-lg mb-4">ğŸ¯ Promise ç¤ºç¯„</h3>
                <div class="flex gap-3 mb-4">
                    <button id="btnPromiseSuccess" class="bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition">
                        æ¨¡æ“¬æˆåŠŸ
                    </button>
                    <button id="btnPromiseFail" class="bg-red-600 text-white px-6 py-2 rounded-lg hover:bg-red-700 transition">
                        æ¨¡æ“¬å¤±æ•—
                    </button>
                </div>
                <div id="promiseOutput" class="p-4 bg-white rounded-lg font-mono text-sm"></div>
            </div>
        </section>

        <!-- Section 3: Async/Await -->
        <section class="bg-white rounded-xl shadow-md p-8 mb-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-4 border-purple-500 pb-2">
                3. Async/Await
            </h2>
            <p class="text-gray-600 mb-6">async/await æ˜¯æ›´ç¾ä»£ã€æ›´æ˜“è®€çš„è™•ç†éåŒæ­¥çš„æ–¹å¼ï¼ˆåŸºæ–¼ Promiseï¼‰ã€‚</p>

            <div class="bg-gray-100 text-green-400 p-6 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
                <pre>// å‚³çµ± Promise å¯«æ³•
function getData() {
    return fetch('https://api.example.com/data')
        .then(response => response.json())
        .then(data => {
            console.log(data);
            return data;
        })
        .catch(error => {
            console.error(error);
        });
}

// async/await å¯«æ³•ï¼ˆæ›´ç°¡æ½”ï¼ï¼‰
async function getData() {
    try {
        const response = await fetch('https://api.example.com/data');
        const data = await response.json();
        console.log(data);
        return data;
    } catch (error) {
        console.error('éŒ¯èª¤:', error);
    }
}</pre>
            </div>

            <div class="bg-purple-50 border-l-4 border-purple-500 p-4 mb-6">
                <h3 class="font-semibold mb-2">é‡è¦è¦å‰‡ï¼š</h3>
                <ul class="list-disc list-inside space-y-1 text-gray-700 text-sm">
                    <li><code class="bg-gray-100 px-2 py-1 rounded">await</code> åªèƒ½åœ¨ <code class="bg-gray-100 px-2 py-1 rounded">async</code> å‡½å¼ä¸­ä½¿ç”¨</li>
                    <li><code class="bg-gray-100 px-2 py-1 rounded">await</code> æœƒæš«åœå‡½å¼åŸ·è¡Œï¼Œç­‰å¾… Promise å®Œæˆ</li>
                    <li>ä½¿ç”¨ <code class="bg-gray-100 px-2 py-1 rounded">try/catch</code> è™•ç†éŒ¯èª¤</li>
                </ul>
            </div>
        </section>

        <!-- Section 4: Fetch API -->
        <section class="bg-white rounded-xl shadow-md p-8 mb-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-4 border-blue-500 pb-2">
                4. Fetch API - ç™¼é€ HTTP è«‹æ±‚
            </h2>
            <p class="text-gray-600 mb-6">Fetch API ç”¨ä¾†ç™¼é€ç¶²è·¯è«‹æ±‚ï¼Œå–å¾—å¤–éƒ¨è³‡æ–™ã€‚</p>

            <div class="bg-gray-100 text-green-400 p-6 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
                <pre>// GET è«‹æ±‚
async function fetchData() {
    const response = await fetch('https://api.example.com/users');
    const data = await response.json();
    return data;
}

// POST è«‹æ±‚
async function createUser(userData) {
    const response = await fetch('https://api.example.com/users', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
        body: JSON.stringify(userData)
    });
    const data = await response.json();
    return data;
}</pre>
            </div>

            <div class="border-2 border-blue-300 rounded-lg p-6 bg-blue-50">
                <h3 class="font-bold text-lg mb-4">ğŸ¯ å¯¦æˆ°ï¼šRandom User API</h3>
                <p class="text-gray-600 mb-4">å¾ randomuser.me å–å¾—éš¨æ©Ÿä½¿ç”¨è€…è³‡æ–™</p>
                <button id="btnFetchUser" class="bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition">
                    ğŸ”„ è¼‰å…¥éš¨æ©Ÿä½¿ç”¨è€…
                </button>
                <div id="userCard" class="mt-4 hidden"></div>
                <div id="loading" class="mt-4 text-center text-gray-600 hidden">
                    <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
                    <p class="mt-2">è¼‰å…¥ä¸­...</p>
                </div>
            </div>
        </section>

        <!-- Section 5: Practical Example -->
        <section class="bg-gradient-to-r from-emerald-50 to-teal-50 rounded-xl shadow-md p-8 mb-8 border-2 border-emerald-300">
            <h2 class="text-3xl font-bold text-gray-800 mb-4">
                ğŸ¯ ç¶œåˆå¯¦ä½œï¼šå¤©æ°£æŸ¥è©¢ç³»çµ±
            </h2>
            <p class="text-gray-600 mb-6">çµåˆ Fetch API èˆ‡éåŒæ­¥è™•ç†ï¼Œå»ºç«‹å¯¦ç”¨çš„å¤©æ°£æŸ¥è©¢å·¥å…·ã€‚</p>

            <div class="bg-white p-6 rounded-lg shadow-lg">
                <div class="flex gap-4 mb-6 flex-wrap">
                    <input type="text" id="cityInput" placeholder="è¼¸å…¥åŸå¸‚åç¨± (è‹±æ–‡)" class="flex-1 min-w-[200px] border-2 border-gray-300 rounded-lg px-4 py-2">
                    <button id="btnSearchWeather" class="bg-emerald-600 text-white px-6 py-2 rounded-lg hover:bg-emerald-700 transition">
                        ğŸ” æŸ¥è©¢å¤©æ°£
                    </button>
                </div>
                <div id="weatherLoading" class="text-center text-gray-600 hidden">
                    <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-emerald-600"></div>
                    <p class="mt-2">æŸ¥è©¢ä¸­...</p>
                </div>
                <div id="weatherResult" class="hidden"></div>
                <div class="mt-4 text-sm text-gray-500">
                    ğŸ’¡ æç¤ºï¼šé€™æ˜¯ç¤ºç¯„ç”¨çš„æ¨¡æ“¬å¤©æ°£è³‡æ–™ã€‚å¯¦éš›æ‡‰ç”¨éœ€è¦ç”³è«‹ API Keyï¼ˆå¦‚ OpenWeatherMapï¼‰ã€‚
                </div>
            </div>
        </section>

        <!-- Section 6: Multiple Requests -->
        <section class="bg-white rounded-xl shadow-md p-8 mb-8">
            <h2 class="text-3xl font-bold text-gray-800 mb-4 border-b-4 border-indigo-500 pb-2">
                5. å¤šå€‹éåŒæ­¥è«‹æ±‚
            </h2>
            <p class="text-gray-600 mb-6">å¦‚ä½•åŒæ™‚ç™¼é€å¤šå€‹è«‹æ±‚ä¸¦ç­‰å¾…å…¨éƒ¨å®Œæˆã€‚</p>

            <div class="bg-gray-100 text-green-400 p-6 rounded-lg mb-6 font-mono text-sm overflow-x-auto">
                <pre>// Promise.all - ç­‰å¾…æ‰€æœ‰ Promise å®Œæˆ
async function fetchMultiple() {
    try {
        const [users, posts, comments] = await Promise.all([
            fetch('/api/users').then(r => r.json()),
            fetch('/api/posts').then(r => r.json()),
            fetch('/api/comments').then(r => r.json())
        ]);

        console.log('å…¨éƒ¨å®Œæˆï¼', { users, posts, comments });
    } catch (error) {
        console.error('å…¶ä¸­ä¸€å€‹å¤±æ•—:', error);
    }
}

// Promise.race - å›å‚³æœ€å¿«å®Œæˆçš„
async function raceExample() {
    const fastest = await Promise.race([
        fetch('/api/server1'),
        fetch('/api/server2'),
        fetch('/api/server3')
    ]);
    console.log('æœ€å¿«çš„ä¼ºæœå™¨:', fastest);
}</pre>
            </div>

            <div class="border-2 border-indigo-300 rounded-lg p-6 bg-indigo-50">
                <h3 class="font-bold text-lg mb-4">ğŸ¯ ç¤ºç¯„ï¼šåŒæ™‚è¼‰å…¥å¤šå€‹ä½¿ç”¨è€…</h3>
                <button id="btnFetchMultiple" class="bg-indigo-600 text-white px-6 py-3 rounded-lg hover:bg-indigo-700 transition">
                    è¼‰å…¥ 3 ä½ä½¿ç”¨è€…ï¼ˆä¸¦è¡Œï¼‰
                </button>
                <div id="multipleLoading" class="mt-4 text-center text-gray-600 hidden">
                    <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"></div>
                    <p class="mt-2">åŒæ™‚è¼‰å…¥ä¸­...</p>
                </div>
                <div id="multipleUsers" class="mt-4 grid md:grid-cols-3 gap-4"></div>
            </div>
        </section>

        <!-- Quick Reference -->
        <section class="bg-gradient-to-r from-gray-800 to-gray-900 text-white rounded-xl shadow-md p-8">
            <h2 class="text-3xl font-bold mb-6">ğŸ“š Quick Reference</h2>
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    <h3 class="text-xl font-bold mb-3 text-rose-300">Async èªæ³•</h3>
                    <ul class="space-y-2 text-gray-300 text-sm">
                        <li><code class="bg-gray-700 px-2 py-1 rounded">async function</code> - å®£å‘ŠéåŒæ­¥å‡½å¼</li>
                        <li><code class="bg-gray-700 px-2 py-1 rounded">await</code> - ç­‰å¾… Promise</li>
                        <li><code class="bg-gray-700 px-2 py-1 rounded">try/catch</code> - éŒ¯èª¤è™•ç†</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-3 text-rose-300">Fetch API</h3>
                    <ul class="space-y-2 text-gray-300 text-sm">
                        <li><code class="bg-gray-700 px-2 py-1 rounded">fetch(url)</code> - ç™¼é€è«‹æ±‚</li>
                        <li><code class="bg-gray-700 px-2 py-1 rounded">.json()</code> - è§£æ JSON</li>
                        <li><code class="bg-gray-700 px-2 py-1 rounded">method, headers, body</code> - è«‹æ±‚é¸é …</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-3 text-rose-300">Promise å·¥å…·</h3>
                    <ul class="space-y-2 text-gray-300 text-sm">
                        <li><code class="bg-gray-700 px-2 py-1 rounded">Promise.all()</code> - ç­‰å¾…å…¨éƒ¨</li>
                        <li><code class="bg-gray-700 px-2 py-1 rounded">Promise.race()</code> - æœ€å¿«çš„ä¸€å€‹</li>
                        <li><code class="bg-gray-700 px-2 py-1 rounded">.then().catch()</code> - éˆå¼å‘¼å«</li>
                    </ul>
                </div>
                <div>
                    <h3 class="text-xl font-bold mb-3 text-rose-300">æœ€ä½³å¯¦è¸</h3>
                    <ul class="space-y-2 text-gray-300 text-sm">
                        <li>å„ªå…ˆä½¿ç”¨ async/await</li>
                        <li>ç¸½æ˜¯ä½¿ç”¨ try/catch</li>
                        <li>é¡¯ç¤ºè¼‰å…¥ç‹€æ…‹</li>
                        <li>è™•ç†éŒ¯èª¤æƒ…æ³</li>
                    </ul>
                </div>
            </div>
        </section>
    </div>

    <script>
        // Section 1: setTimeout Demo
        document.getElementById('btnTimeout').addEventListener('click', function() {
            const output = document.getElementById('timeoutOutput');
            output.innerHTML = '';

            const addMessage = (msg, color = 'gray') => {
                const p = document.createElement('p');
                p.className = `text-${color}-700 font-mono text-sm`;
                p.textContent = msg;
                output.appendChild(p);
            };

            addMessage('é–‹å§‹åŸ·è¡Œ...', 'blue');

            setTimeout(() => {
                addMessage('1 ç§’å¾ŒåŸ·è¡Œé€™å€‹ï¼', 'green');
            }, 1000);

            setTimeout(() => {
                addMessage('2 ç§’å¾ŒåŸ·è¡Œé€™å€‹ï¼', 'purple');
            }, 2000);

            addMessage('é€™è¡Œæœƒç«‹å³åŸ·è¡Œï¼ˆä¸ç­‰å¾…ï¼‰', 'orange');
        });

        // Section 2: Promise Demo
        function simulateAsync(success, delay = 1000) {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    if (success) {
                        resolve('âœ“ æ“ä½œæˆåŠŸï¼');
                    } else {
                        reject('âœ— æ“ä½œå¤±æ•—ï¼');
                    }
                }, delay);
            });
        }

        document.getElementById('btnPromiseSuccess').addEventListener('click', async function() {
            const output = document.getElementById('promiseOutput');
            output.innerHTML = '<span class="text-gray-600">è™•ç†ä¸­...</span>';

            try {
                const result = await simulateAsync(true);
                output.innerHTML = `<span class="text-green-600 font-semibold">${result}</span>`;
            } catch (error) {
                output.innerHTML = `<span class="text-red-600 font-semibold">${error}</span>`;
            }
        });

        document.getElementById('btnPromiseFail').addEventListener('click', async function() {
            const output = document.getElementById('promiseOutput');
            output.innerHTML = '<span class="text-gray-600">è™•ç†ä¸­...</span>';

            try {
                const result = await simulateAsync(false);
                output.innerHTML = `<span class="text-green-600 font-semibold">${result}</span>`;
            } catch (error) {
                output.innerHTML = `<span class="text-red-600 font-semibold">${error}</span>`;
            }
        });

        // Section 4: Fetch Random User
        document.getElementById('btnFetchUser').addEventListener('click', async function() {
            const userCard = document.getElementById('userCard');
            const loading = document.getElementById('loading');

            userCard.classList.add('hidden');
            loading.classList.remove('hidden');

            try {
                const response = await fetch('https://randomuser.me/api/');
                const data = await response.json();
                const user = data.results[0];

                loading.classList.add('hidden');
                userCard.classList.remove('hidden');
                userCard.innerHTML = `
                    <div class="bg-white p-6 rounded-lg shadow-md border-2 border-blue-200">
                        <div class="flex items-center gap-4">
                            <img src="${user.picture.large}" alt="${user.name.first}" class="w-20 h-20 rounded-full border-4 border-blue-300">
                            <div>
                                <h3 class="text-xl font-bold text-gray-800">${user.name.first} ${user.name.last}</h3>
                                <p class="text-gray-600">ğŸ“§ ${user.email}</p>
                                <p class="text-gray-600">ğŸ“± ${user.phone}</p>
                                <p class="text-gray-600">ğŸ“ ${user.location.city}, ${user.location.country}</p>
                            </div>
                        </div>
                    </div>
                `;

                console.log('ä½¿ç”¨è€…è³‡æ–™:', user);
            } catch (error) {
                loading.classList.add('hidden');
                userCard.classList.remove('hidden');
                userCard.innerHTML = `<div class="bg-red-100 text-red-700 p-4 rounded-lg">âŒ è¼‰å…¥å¤±æ•—: ${error.message}</div>`;
            }
        });

        // Section 5: Weather (Simulated)
        document.getElementById('btnSearchWeather').addEventListener('click', async function() {
            const city = document.getElementById('cityInput').value.trim();
            const loading = document.getElementById('weatherLoading');
            const result = document.getElementById('weatherResult');

            if (!city) {
                alert('è«‹è¼¸å…¥åŸå¸‚åç¨±');
                return;
            }

            result.classList.add('hidden');
            loading.classList.remove('hidden');

            // æ¨¡æ“¬ API å»¶é²
            await new Promise(resolve => setTimeout(resolve, 1500));

            // æ¨¡æ“¬å¤©æ°£è³‡æ–™
            const mockWeather = {
                city: city,
                temp: Math.floor(Math.random() * 20) + 15,
                condition: ['æ™´å¤©', 'å¤šé›²', 'é™°å¤©', 'å°é›¨'][Math.floor(Math.random() * 4)],
                humidity: Math.floor(Math.random() * 40) + 50,
                wind: Math.floor(Math.random() * 15) + 5
            };

            loading.classList.add('hidden');
            result.classList.remove('hidden');
            result.innerHTML = `
                <div class="bg-gradient-to-br from-blue-400 to-blue-600 text-white p-8 rounded-lg shadow-lg">
                    <h3 class="text-3xl font-bold mb-4">${mockWeather.city}</h3>
                    <div class="text-6xl font-bold mb-4">${mockWeather.temp}Â°C</div>
                    <p class="text-xl mb-4">${mockWeather.condition}</p>
                    <div class="grid grid-cols-2 gap-4 text-sm">
                        <div>ğŸ’§ æ¿•åº¦: ${mockWeather.humidity}%</div>
                        <div>ğŸ’¨ é¢¨é€Ÿ: ${mockWeather.wind} km/h</div>
                    </div>
                </div>
            `;

            console.log('å¤©æ°£è³‡æ–™:', mockWeather);
        });

        // Section 6: Multiple Requests
        document.getElementById('btnFetchMultiple').addEventListener('click', async function() {
            const container = document.getElementById('multipleUsers');
            const loading = document.getElementById('multipleLoading');

            container.innerHTML = '';
            loading.classList.remove('hidden');

            try {
                // ä¸¦è¡Œç™¼é€ 3 å€‹è«‹æ±‚
                const [data1, data2, data3] = await Promise.all([
                    fetch('https://randomuser.me/api/').then(r => r.json()),
                    fetch('https://randomuser.me/api/').then(r => r.json()),
                    fetch('https://randomuser.me/api/').then(r => r.json())
                ]);

                const users = [data1.results[0], data2.results[0], data3.results[0]];

                loading.classList.add('hidden');

                users.forEach(user => {
                    const card = document.createElement('div');
                    card.className = 'bg-white p-4 rounded-lg shadow-md border-2 border-indigo-200';
                    card.innerHTML = `
                        <img src="${user.picture.medium}" alt="${user.name.first}" class="w-16 h-16 rounded-full mx-auto mb-3 border-2 border-indigo-300">
                        <h4 class="font-bold text-center">${user.name.first} ${user.name.last}</h4>
                        <p class="text-sm text-gray-600 text-center">${user.email}</p>
                    `;
                    container.appendChild(card);
                });

                console.log('è¼‰å…¥ 3 ä½ä½¿ç”¨è€…:', users);
            } catch (error) {
                loading.classList.add('hidden');
                container.innerHTML = `<div class="col-span-3 bg-red-100 text-red-700 p-4 rounded-lg">âŒ è¼‰å…¥å¤±æ•—</div>`;
            }
        });

        // Support Enter key
        document.getElementById('cityInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                document.getElementById('btnSearchWeather').click();
            }
        });

        console.log('%cğŸ‰ æ­¡è¿ä¾†åˆ°éåŒæ­¥ç¨‹å¼è¨­è¨ˆæ•™å­¸ï¼', 'color: #f43f5e; font-size: 20px; font-weight: bold;');
    </script>
</body>
</html>
